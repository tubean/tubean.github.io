<!DOCTYPE html>
<html lang="vi">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.49 with theme Tranquilpeak 0.4.3-SNAPSHOT">
<meta name="author" content="Tu Bean">
<meta name="keywords" content="web architecture, spring boot, eureka, zuul, microservice, tutorial, intelij">
<meta name="description" content="Microservices l√† m·ªôt gi·∫£i ph√°p cho ph√©p chia m·ªôt h·ªá th·ªëng l·ªõn th√†nh m·ªôt v√†i c√°c component ƒë·ªôc l·∫≠p v·ªÅ ph√°t tri·ªÉn, test v√† deploy.
Spring Cloud l√† m·ªôt d·ª± √°n con trong h·ªç nh√† Spring, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ph√°t tri·ªÉn c√°c ·ª©ng d·ª•ng ph√¢n t√°n. M·ªôt ·ª©ng d·ª•ng ƒë∆∞·ª£c g·ªçi l√† ph·∫ßn t√°n (Distributed application) khi c√°c ph·∫ßn c·ªßa n√≥ c√≥ th·ªÉ ƒë∆∞·ª£c ph√°t tri·ªÉn tr√™n c√°c ng√¥n ng·ªØ kh√°c nhau v√† ƒë∆∞·ª£c tri·ªÉn khai tr√™n c√°c m√°y ch·ªß kh√°c nhau.">


<meta property="og:description" content="Microservices l√† m·ªôt gi·∫£i ph√°p cho ph√©p chia m·ªôt h·ªá th·ªëng l·ªõn th√†nh m·ªôt v√†i c√°c component ƒë·ªôc l·∫≠p v·ªÅ ph√°t tri·ªÉn, test v√† deploy.
Spring Cloud l√† m·ªôt d·ª± √°n con trong h·ªç nh√† Spring, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ph√°t tri·ªÉn c√°c ·ª©ng d·ª•ng ph√¢n t√°n. M·ªôt ·ª©ng d·ª•ng ƒë∆∞·ª£c g·ªçi l√† ph·∫ßn t√°n (Distributed application) khi c√°c ph·∫ßn c·ªßa n√≥ c√≥ th·ªÉ ƒë∆∞·ª£c ph√°t tri·ªÉn tr√™n c√°c ng√¥n ng·ªØ kh√°c nhau v√† ƒë∆∞·ª£c tri·ªÉn khai tr√™n c√°c m√°y ch·ªß kh√°c nhau.">
<meta property="og:type" content="article">
<meta property="og:title" content="[Microservice] D·ª±ng Microservice web b·∫±ng Spring Boot v√† Eureka [Ph·∫ßn 1]">
<meta name="twitter:title" content="[Microservice] D·ª±ng Microservice web b·∫±ng Spring Boot v√† Eureka [Ph·∫ßn 1]">
<meta property="og:url" content="https://tubean.github.io/2018/12/microservice-springboot-eureka/">
<meta property="twitter:url" content="https://tubean.github.io/2018/12/microservice-springboot-eureka/">
<meta property="og:site_name" content="Bean&#39;s blog">
<meta property="og:description" content="Microservices l√† m·ªôt gi·∫£i ph√°p cho ph√©p chia m·ªôt h·ªá th·ªëng l·ªõn th√†nh m·ªôt v√†i c√°c component ƒë·ªôc l·∫≠p v·ªÅ ph√°t tri·ªÉn, test v√† deploy.
Spring Cloud l√† m·ªôt d·ª± √°n con trong h·ªç nh√† Spring, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ph√°t tri·ªÉn c√°c ·ª©ng d·ª•ng ph√¢n t√°n. M·ªôt ·ª©ng d·ª•ng ƒë∆∞·ª£c g·ªçi l√† ph·∫ßn t√°n (Distributed application) khi c√°c ph·∫ßn c·ªßa n√≥ c√≥ th·ªÉ ƒë∆∞·ª£c ph√°t tri·ªÉn tr√™n c√°c ng√¥n ng·ªØ kh√°c nhau v√† ƒë∆∞·ª£c tri·ªÉn khai tr√™n c√°c m√°y ch·ªß kh√°c nhau.">
<meta name="twitter:description" content="Microservices l√† m·ªôt gi·∫£i ph√°p cho ph√©p chia m·ªôt h·ªá th·ªëng l·ªõn th√†nh m·ªôt v√†i c√°c component ƒë·ªôc l·∫≠p v·ªÅ ph√°t tri·ªÉn, test v√† deploy.
Spring Cloud l√† m·ªôt d·ª± √°n con trong h·ªç nh√† Spring, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ph√°t tri·ªÉn c√°c ·ª©ng d·ª•ng ph√¢n t√°n. M·ªôt ·ª©ng d·ª•ng ƒë∆∞·ª£c g·ªçi l√† ph·∫ßn t√°n (Distributed application) khi c√°c ph·∫ßn c·ªßa n√≥ c√≥ th·ªÉ ƒë∆∞·ª£c ph√°t tri·ªÉn tr√™n c√°c ng√¥n ng·ªØ kh√°c nhau v√† ƒë∆∞·ª£c tri·ªÉn khai tr√™n c√°c m√°y ch·ªß kh√°c nhau.">
<meta property="og:locale" content="vi">

  
    <meta property="article:published_time" content="2018-12-18T00:00:00">
  
  
    <meta property="article:modified_time" content="2018-12-18T00:00:00">
  
  
  
    
      <meta property="article:section" content="Microservice">
    
      <meta property="article:section" content="Spring Boot">
    
  
  
    
      <meta property="article:tag" content="web architecture">
    
      <meta property="article:tag" content="spring boot">
    
      <meta property="article:tag" content="eureka">
    
      <meta property="article:tag" content="zuul">
    
      <meta property="article:tag" content="microservice">
    
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://res.cloudinary.com/deop9ytsv/image/upload/v1545140745/1_aVq0q9jjFx1R8DMVhKKFWQ.png">
  <meta property="twitter:image" content="https://res.cloudinary.com/deop9ytsv/image/upload/v1545140745/1_aVq0q9jjFx1R8DMVhKKFWQ.png">


  <meta property="og:image" content="https://res.cloudinary.com/deop9ytsv/image/upload/v1541273502/Black_flag.svg.png">
  <meta property="twitter:image" content="https://res.cloudinary.com/deop9ytsv/image/upload/v1541273502/Black_flag.svg.png">




  <meta property="og:image" content="https://res.cloudinary.com/deop9ytsv/image/upload/c_scale,w_1836/v1540914499/C360_2016-03-22-17-45-21-487.jpg">
  <meta property="twitter:image" content="https://res.cloudinary.com/deop9ytsv/image/upload/c_scale,w_1836/v1540914499/C360_2016-03-22-17-45-21-487.jpg">


    <title>[Microservice] D·ª±ng Microservice web b·∫±ng Spring Boot v√† Eureka [Ph·∫ßn 1]</title>

    <link rel="icon" href="https://tubean.github.io/favicon/flappybird.png">
    

    

    <link rel="canonical" href="https://tubean.github.io/2018/12/microservice-springboot-eureka/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://tubean.github.io/css/style-nnm2spxvve8onlujjlegkkytaehyadd4ksxc1hyzzq9a2wvtrgbljqyulomn.min.css" />
    
    
      
        <link rel="stylesheet"  crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei">
      
    
      
        <link rel="stylesheet"  href="https://tubean.github.io/css/main.css">
      
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-128433621-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://tubean.github.io/">Bean&#39;s blog</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://tubean.github.io/#about">
    
    
    
      
        <img class="header-picture" src="https://res.cloudinary.com/deop9ytsv/image/upload/c_scale,w_1836/v1540914499/C360_2016-03-22-17-45-21-487.jpg" alt="·∫¢nh ƒë·∫°i di·ªán" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://tubean.github.io/#about">
          <img class="sidebar-profile-picture" src="https://res.cloudinary.com/deop9ytsv/image/upload/c_scale,w_1836/v1540914499/C360_2016-03-22-17-45-21-487.jpg" alt="·∫¢nh ƒë·∫°i di·ªán" />
        </a>
        <h4 class="sidebar-profile-name">Tu Bean</h4>
        
          <h5 class="sidebar-profile-bio">Coding, writing and sharing</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://tubean.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Trang ch·ªß</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://tubean.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Danh m·ª•c</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://tubean.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Th·∫ª th√¥ng tin</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://tubean.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">L∆∞u tr·ªØ</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://tubean.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">Th√¥ng tin</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/tubean" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">Github</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/tubean/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      
  <div class="post-header-cover
              text-center
              "
       style="background-image:url('https://res.cloudinary.com/deop9ytsv/image/upload/v1541273502/Black_flag.svg.png')"
       data-behavior="5">
    
      <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      [Microservice] D·ª±ng Microservice web b·∫±ng Spring Boot v√† Eureka [Ph·∫ßn 1]
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-12-18T00:00:00Z">
        
  th√°ng 12 18, 2018

      </time>
    
    
  
  
    <span>m·ª•c</span>
    
      <a class="category-link" href="https://tubean.github.io/categories/microservice">Microservice</a>, 
    
      <a class="category-link" href="https://tubean.github.io/categories/spring-boot">Spring Boot</a>
    
  

  </div>

</div>
    
  </div>


      <div id="main" data-behavior="5"
        class="hasCover
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              

<p><code>Microservices</code> l√† m·ªôt gi·∫£i ph√°p cho ph√©p chia m·ªôt h·ªá th·ªëng l·ªõn th√†nh m·ªôt v√†i c√°c component ƒë·ªôc l·∫≠p v·ªÅ ph√°t tri·ªÉn, test v√† deploy.</p>

<p><code>Spring Cloud</code> l√† m·ªôt d·ª± √°n con trong h·ªç nh√† Spring, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ph√°t tri·ªÉn c√°c ·ª©ng d·ª•ng ph√¢n t√°n. M·ªôt ·ª©ng d·ª•ng ƒë∆∞·ª£c g·ªçi l√† ph·∫ßn t√°n (Distributed application) khi c√°c ph·∫ßn c·ªßa n√≥ c√≥ th·ªÉ ƒë∆∞·ª£c ph√°t tri·ªÉn tr√™n c√°c ng√¥n ng·ªØ kh√°c nhau v√† ƒë∆∞·ª£c tri·ªÉn khai tr√™n c√°c m√°y ch·ªß kh√°c nhau. Nh∆∞ v·∫≠y, Spring Cloud sinh ra l√† ƒë·ªÉ l√†m c√°c h·ªá th·ªëng microservice. T·∫•t c·∫£ c√°c d·ª± s√°n Spring Cloud n√™n ƒë∆∞·ª£c t·∫°o t·ª´ Spring Boot ƒë·ªÉ gi·∫£m thi·ªÉu c√°c c·∫•u h√¨nh ph·ª©c t·∫°p v√† d·ªÖ c√†i ƒë·∫∑t h∆°n.</p>

<p>Trong series n√†y, ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu c√°ch x√¢y d·ª±ng m·ªôt h·ªá th·ªëng microservice b·∫±ng Spring Boot v√† Eureka (m·ªôt d·ª± √°n trong Spring Cloud). Ph·∫ßn ƒë·∫ßu ti√™n l√† t·∫°o c√°c microservice v√† gateway.</p>

<p><img src="https://res.cloudinary.com/deop9ytsv/image/upload/v1545143589/1_Z8HUa8vdvIrF68crSJOPTQ.png" alt="img_1" /></p>

<h1 id="1-t·ªïng-quan">1. T·ªïng quan</h1>

<p>Nh√¨n v√†o s∆° ƒë·ªì c√°c th√†nh ph·∫ßn c·ªßa h·ªá th·ªëng ·ªü tr√™n, ch√∫ng ta c·∫ßn t·∫°o c√°c service registry, image, gallery v√† m·ªôt gateway. Gallery service s·∫Ω s·ª≠ d·ª•ng nh·ªØng b·ª©c ·∫£nh l·∫•y t·ª´ Image service v√† s·∫Øp x·∫øp ch√∫ng th√†nh m·ªôt album ·∫£nh.</p>

<p>Phi√™n b·∫£n Spring Boot m√† ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng trong serries n√†y l√† <code>2.0.0.RELEASE</code>.</p>

<pre><code>&lt;parent&gt;  
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;  
  &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;  
  &lt;relativePath/&gt;  
&lt;/parent&gt;
</code></pre>

<h1 id="2-eureka-server">2. Eureka Server</h1>

<p>ƒê√¢y l√† m·ªôt m√°y ch·ªß d√πng ƒë·ªÉ qu·∫£n l√Ω, ƒë·∫∑t t√™n cho c√°c service, hay c√≤n g·ªçi l√† <code>service registry</code>. Nh∆∞ng t·∫°i sao ch√∫ng ta l·∫°i c·∫ßn m·ªôt server ƒë·ªÉ ƒë·∫∑t t√™n cho m·ªói service. L√Ω do:</p>

<ul>
<li>Ch√∫ng ta kh√¥ng mu·ªën hardcode ƒë·ªãa ch·ªâ IP c·ªßa m·ªói microservice. B·∫°n ch·∫≥ng bao gi·ªù d√πng ƒë·ªãa ch·ªâ <code>64.233.181.99</code> ƒë·ªÉ truy c·∫≠p v√†o trang <code>google.com</code>, ƒë√∫ng ch·ª©?</li>
<li>Khi m√† c√°c service c·ªßa ch√∫ng ta s·ª≠ d·ª•ng IP ƒë·ªông, n√≥ s·∫Ω t·ª± ƒë·ªông c·∫≠p nh·∫≠t, ch√∫ng ta kh√¥ng c·∫ßn thay ƒë·ªïi code.</li>
</ul>

<p>V·∫≠y l√† m·ªói service s·∫Ω ƒë∆∞·ª£c ƒëƒÉng k√Ω v·ªõi Eureka v√† s·∫Ω ping cho Eureka ƒë·ªÉ ƒë·∫£m b·∫£o ch√∫ng v·∫´n ho·∫°t ƒë·ªông. N·∫øu Eureka server kh√¥ng nh·∫≠n ƒë∆∞·ª£c b·∫•t k·ª≥ th√¥ng b√°o n√†o t·ª´ service th√¨ service ƒë√≥ s·∫Ω b·ªã g·ª° kh·ªèi Eureka m·ªôt c√°ch t·ª± ƒë·ªông.</p>

<p>Ok, ƒë·ªÉ t·∫°o Eureka server, ch√∫ng ta s·∫Ω d√πng Maven ƒë·ªÉ qu·∫£n l√Ω c√°c dependencies. L∆∞u √Ω kh√°c v·ªõi ki·∫øn tr√∫c monolithic, m·ªói component trong microservice ƒë∆∞·ª£c d·ª±ng m·ªôt c√°ch ƒë·ªôc l·∫≠p. Do ƒë√≥ ch√∫ng ta s·∫Ω t·∫°o m·ªõi m·ªôt project Spring Boot v√† khai b√°o file <code>pom.xml</code> c√≥ c√°c dependencies Web, Eureka Server v√† DevTools (t√πy ch·ªçn):</p>

<pre><code class="language-xml">&lt;dependencies&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;  
    &lt;/dependency&gt;  

    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;  
        &lt;scope&gt;runtime&lt;/scope&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  
        &lt;scope&gt;test&lt;/scope&gt;  
    &lt;/dependency&gt;  
&lt;/dependencies&gt;
</code></pre>

<p>Ti·∫øp theo, trong file <code>application.properties</code>, ch√∫ng ta c·∫ßn c·∫•u h√¨nh m·ªôt s·ªë th·ª© nh∆∞ sau:</p>

<pre><code># Give a name to the eureka server

spring.application.name=eureka-server

# default port for eureka server

server.port=8761

# eureka by default will register itself as a client. So, we need to set it to false.

# What's a client server? See other microservices (image, gallery, auth, etc).

eureka.client.register-with-eureka=false

eureka.client.fetch-registry=false
</code></pre>

<p>Cu·ªëi c√πng, trong class main c·ªßa project, ch√∫ng ta s·∫Ω khai b√°o ƒë√¢y l√† m·ªôt Eureka server b·∫±ng annotation <code>@EnableEurekaServer</code>:</p>

<pre><code class="language-java">package io.github.tubean.eureka.server;  

import org.springframework.boot.SpringApplication;  
import org.springframework.boot.autoconfigure.SpringBootApplication;  
import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;  

@SpringBootApplication  
@EnableEurekaServer  
public class ServerApplication {  

    public static void main(String[] args) {  
        SpringApplication.run(ServerApplication.class, args);  
    }  

}
</code></pre>

<p>ƒê∆°n gi·∫£n th·∫ø th√¥i, ƒëi ti·∫øp ƒë·∫øn nh·ªØng service v·ªÅ nghi·ªáp v·ª• n√†o üòÑ</p>

<h1 id="3-image-service">3. Image Service</h1>

<p>C√°c Eureka client service l√† m·ªôt service ƒë·ªôc l·∫≠p trong ki·∫øn tr√∫c microservice. M·ªói client service ch·ªâ th·ª±c hi·ªán duy nh·∫•t m·ªôt nghi·ªáp v·ª• n√†o ƒë√≥ trong h·ªá th·ªëng nh∆∞ thanh to√°n, t√†i kho·∫£n, th√¥ng b√°o, x√°c th·ª±c, c·∫•u h√¨nh,&hellip;
Ch√∫ng ta s·∫Ω x√¢y d·ª±ng image service nh∆∞ m·ªôt ngu·ªìn ƒë·ªÉ ch·ª©a v√† cung c·∫•p c√°c b·ª©c ·∫£nh, m·ªói b·ª©c ·∫£nh s·∫Ω c√≥ id, title v√† ƒë·ªãa ch·ªâ url. Ch·ªâ ƒë∆°n gi·∫£n nh∆∞ v·∫≠y th√¥i.</p>

<p>Ok, c≈©ng nh∆∞ Eureka Server, ch√∫ng ta s·∫Ω t·∫°o m·ªôt project Spring Boot m·ªõi nh∆∞ng s·ª≠ d·ª•ng Eureka Client trong file <code>pom.xml</code>:</p>

<pre><code>&lt;dependencies&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;  
    &lt;/dependency&gt;  

    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;  
        &lt;scope&gt;runtime&lt;/scope&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  
        &lt;scope&gt;test&lt;/scope&gt;  
    &lt;/dependency&gt;  
&lt;/dependencies&gt;
</code></pre>

<p>Trong file <code>appication.properties</code> ch√∫ng ta s·∫Ω ghi l·∫°i ƒë·ªãa ch·ªâ c·ªßa Eureka server:</p>

<pre><code># serivce name

spring.application.name=image-service

# port

server.port=8200

# eureka server url

eureka.client.service-url.default-zone=http://localhost:8761/eureka
</code></pre>

<p>Sau ƒë√≥ ƒë·ªÉ ch·ªâ cho Spring Boot bi·∫øt ƒë√¢y l√† m·ªôt Eureka client, ch√∫ng ta d√πng annotation <code>@EnableEurekaClient</code> trong class main:</p>

<pre><code class="language-java">package io.github.tubean.eureka.image;  

import org.springframework.boot.SpringApplication;  
import org.springframework.boot.autoconfigure.SpringBootApplication;  
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;  

@SpringBootApplication  
@EnableEurekaClient  
public class ImageApplication {  

    public static void main(String[] args) {  
        SpringApplication.run(ImageApplication.class, args);  
    }  

}
</code></pre>

<p>B√¢y gi·ªù ƒë·ªÉ image service c√≥ th·ªÉ expose data ra ngo√†i, ch√∫ng ta c·∫ßn c√≥ c√°c endpoint ƒë√∫ng kh√¥ng? T∆∞∆°ng t·ª± m·ªôt RESTful web service, ch√∫ng ta s·∫Ω t·∫°o m·ªôt entity ƒë·ªãnh nghƒ©a c·∫•u tr√∫c chu·ªói JSON v√† m·ªôt controller ƒëi·ªÅu h∆∞·ªõng:</p>

<ul>
<li>Image.java</li>
</ul>

<pre><code class="language-java">package io.github.tubean.eureka.image.entity;  

public class Image {  
    private Integer id;  
    private String title;  
    private String url;  

    public Image(Integer id, String title, String url) {  
        this.id = id;  
        this.title = title;  
        this.url = url;  
    }  

    public Integer getId() {  
        return id;  
    }  

    public void setId(Integer id) {  
        this.id = id;  
    }  

    public String getTitle() {  
        return title;  
    }  

    public void setTitle(String title) {  
        this.title = title;  
    }  

    public String getUrl() {  
        return url;  
    }  

    public void setUrl(String url) {  
        this.url = url;  
    }  
}
</code></pre>

<ul>
<li>HomeController.java</li>
</ul>

<pre><code class="language-java">package io.github.tubean.eureka.image.controller;  

import io.github.tubean.eureka.image.entity.Image;  
import org.springframework.beans.factory.annotation.Autowired;  
import org.springframework.core.env.Environment;  
import org.springframework.web.bind.annotation.RequestMapping;  
import org.springframework.web.bind.annotation.RestController;  

import java.util.Arrays;  
import java.util.List;  

@RestController  
@RequestMapping(&quot;/&quot;)  
public class HomeController {  
   @Autowired  
  private Environment env;  

   @RequestMapping(&quot;/&quot;)  
   public String home() {  
      // This is useful for debugging  
 // When having multiple instance of image service running at different ports. // We load balance among them, and display which instance received the request.  return &quot;Hello from Image Service running at port: &quot; + env.getProperty(&quot;local.server.port&quot;);  
   }  

   @RequestMapping(&quot;/images&quot;)  
   public List&lt;Image&gt; getImages() {  
      List&lt;Image&gt; images = Arrays.asList(  
         new Image(1, &quot;Treehouse of Horror V&quot;, &quot;https://www.imdb.com/title/tt0096697/mediaviewer/rm3842005760&quot;),  
         new Image(2, &quot;The Town&quot;, &quot;https://www.imdb.com/title/tt0096697/mediaviewer/rm3698134272&quot;),  
         new Image(3, &quot;The Last Traction Hero&quot;, &quot;https://www.imdb.com/title/tt0096697/mediaviewer/rm1445594112&quot;));  
      return images;  
   }  
}
</code></pre>

<h1 id="4-gallery-service">4. Gallery Service</h1>

<p>C√°c Eureka client service c√≥ th·ªÉ l√† m·ªôt REST client d√πng ƒë·ªÉ cung c·∫•p data cho m·ªôt service kh√°c (REST API service). Do ƒë√≥, trong h·ªá th·ªëng c·ªßa ch√∫ng ta, gallery service s·∫Ω g·ªçi ƒë·∫øn image service th√¥ng qua c√°c endpoint m√† ch√∫ng ta ƒë√£ t·∫°o ra ·ªü tr√™n, v√† t·ª´ ƒë√≥ s·∫Ω get ra m·ªôt list ·∫£nh ƒë·ªÉ t·∫°o ra m·ªôt album.
ƒê·ªÉ g·ªçi ƒë·∫øn m·ªôt service t·ª´ m·ªôt REST client, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng:</p>

<ol>
<li><code>RestTemplate</code>: ƒê√¢y l√† m·ªôt object cho ph√©p g·ª≠i request ƒë·∫øn m·ªôt REST API service.</li>
<li><code>FeignClient</code>: ho·∫°t ƒë·ªông nh∆∞ m·ªôt proxy, cung c·∫•p c√°c gi·∫£i ph√°p kh√°c cho RestTemplate.</li>
</ol>

<p>V√† c·∫£ 2 c√°ch th√¨ c√¢n b·∫±ng t·∫£i ƒë·ªÅu c√≥ th·ªÉ √°p d·ª•ng.</p>

<blockquote>
<p>C√¢n b·∫±ng t·∫£i (Load balancing) l√† g√¨?
N·∫øu nh∆∞ c√≥ nhi·ªÅu h∆°n m·ªôt instance c·ªßa m·ªôt service ch·∫°y tr√™n c√°c port kh√°c nhau th√¨ ch√∫ng ta c·∫ßn c√¢n b·∫±ng nh·ªØng request gi·ªØa t·∫•t c·∫£ c√°c instance ƒë√≥. Trong ƒëi·ªÅu ki·ªán l√Ω t∆∞·ªüng th√¨ c√¢n b·∫±ng t·∫£i s·∫Ω gi√∫p c√°c port nh·∫≠n s·ªë l∆∞·ª£ng request t∆∞∆°ng ƒë∆∞∆°ng nhau.</p>
</blockquote>

<p>T∆∞∆°ng t·ª± Image service, ch√∫ng ta khai b√°o file <code>pom.xml</code> cho Gallery service. V√† trong <code>application.properties</code>, port s·ª≠ d·ª•ng s·∫Ω kh√°c v·ªõi Image service:</p>

<pre><code>spring.application.name=gallery-service  
server.port=8100  
eureka.client.service-url.default-zone=http://localhost:8761/eureka
</code></pre>

<p>Trong class main, b√™n c·∫°nh annotation <code>@EnableEurekaClient</code>, ch√∫ng ta s·∫Ω c·∫ßn t·∫°o th√™m m·ªôt bean cho <code>RestTemplate</code> d√πng ƒë·ªÉ g·ªçi ƒë·∫øn image service.</p>

<pre><code class="language-java">package io.github.tubean.eureka.gallery;  

import org.springframework.boot.SpringApplication;  
import org.springframework.boot.autoconfigure.SpringBootApplication;  
import org.springframework.cloud.client.loadbalancer.LoadBalanced;  
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;  
import org.springframework.context.annotation.Bean;  
import org.springframework.context.annotation.Configuration;  
import org.springframework.web.client.RestTemplate;  

@SpringBootApplication  
@EnableEurekaClient  
public class GalleryServiceApplication {  

    public static void main(String[] args) {  
        SpringApplication.run(GalleryServiceApplication.class, args);  
    }  

}  

@Configuration  
class RestTemplateConfig {  

    // Create a bean for restTemplate to call services  
  @Bean  
 @LoadBalanced // Load balance between service instances running at different ports.  
  public RestTemplate restTemplate() {  
        return new RestTemplate();  
    }  
}
</code></pre>

<p>ƒê·ª´ng qu√™n entity v√† controller:</p>

<ul>
<li>Gallery.java</li>
</ul>

<pre><code class="language-java">package io.github.tubean.eureka.gallery.entity;  

import java.util.List;  

public class Gallery {  
    private Integer id;  
    private List&lt;Object&gt; images;  

    public Gallery(Integer id, List&lt;Object&gt; images) {  
        this.id = id;  
        this.images = images;  
    }  

    public Gallery() {  
    }  

    public Integer getId() {  
        return id;  
    }  

    public void setId(Integer id) {  
        this.id = id;  
    }  

    public List&lt;Object&gt; getImages() {  
        return images;  
    }  

    public void setImages(List&lt;Object&gt; images) {  
        this.images = images;  
    }  
}
</code></pre>

<ul>
<li>HomeController.java</li>
</ul>

<pre><code class="language-java">package io.github.tubean.eureka.gallery.controller;  

import io.github.tubean.eureka.gallery.entity.Gallery;  
import org.springframework.beans.factory.annotation.Autowired;  
import org.springframework.core.env.Environment;  
import org.springframework.web.bind.annotation.PathVariable;  
import org.springframework.web.bind.annotation.RequestMapping;  
import org.springframework.web.bind.annotation.RestController;  
import org.springframework.web.client.RestTemplate;  

import java.util.List;  

@RestController  
@RequestMapping(&quot;/&quot;)  
public class HomeController {  
   @Autowired  
  private RestTemplate restTemplate;  

   @Autowired  
  private Environment env;  

   @RequestMapping(&quot;/&quot;)  
   public String home() {  
      // This is useful for debugging  
 // When having multiple instance of gallery service running at different ports. // We load balance among them, and display which instance received the request.  return &quot;Hello from Gallery Service running at port: &quot; + env.getProperty(&quot;local.server.port&quot;);  
   }  

   @RequestMapping(&quot;/{id}&quot;)  
   public Gallery getGallery(@PathVariable final int id) {  
      // create gallery object  
  Gallery gallery = new Gallery();  
      gallery.setId(id);  

      // get list of available images   
 List&lt;Object&gt; images = restTemplate.getForObject(&quot;http://image-service/images/&quot;, List.class);  
      gallery.setImages(images);  

      return gallery;  
   }  

   // -------- Admin Area --------  
 // This method should only be accessed by users with role of 'admin' // We'll add the logic of role based auth later  @RequestMapping(&quot;/admin&quot;)  
   public String homeAdmin() {  
      return &quot;This is the admin area of Gallery service running at port: &quot; + env.getProperty(&quot;local.server.port&quot;);  
   }  
}
</code></pre>

<p>Ok, ƒë·∫øn ƒë√¢y ch√∫ng ta c·∫ßn ch√∫ √Ω khi s·ª≠ d·ª•ng <code>restTemplate</code> th√¨ trong Eureka Server ƒë√£ ƒë·∫∑t t√™n cho c√°c service n√™n ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng t√™n c·ªßa ch√∫ng (<code>image-service</code> thay v√¨ <code>localhost:port</code>) nh·∫±m m·ª•c ƒë√≠ch s·ª≠ d·ª•ng c√¢n b·∫±ng t·∫£i.</p>

<h1 id="5-gateway-zuul">5. Gateway - Zuul</h1>

<p>Khi ch√∫ng ta g·ªçi ƒë·∫øn b·∫•t k·ª≥ service n√†o t·ª´ browser, ch√∫ng ta kh√¥ng th·ªÉ g·ªçi tr·ª±c ti·∫øp b·∫±ng t√™n c·ªßa ch√∫ng nh∆∞ ·ªü tr√™n Gallery server ƒë√£ l√†m b·ªüi v√¨ nh·ªØng t√™n service nh∆∞ v·∫≠y ph·∫£i ƒë∆∞·ª£c b√≠ m·∫≠t v√† ch·ªâ s·ª≠ d·ª•ng trong n·ªôi b·ªô c√°c service v·ªõi nhau.</p>

<p>N·∫øu ch√∫ng ta c√≥ nhi·ªÅu instance c·ªßa m·ªôt service, m·ªói instance l·∫°i s·ª≠ d·ª•ng m·ªôt port kh√°c nhau. V·∫≠y l√†m th·∫ø n√†o ch√∫ng ta c√≥ th·ªÉ g·ªçi t·∫•t c·∫£ c√°c service t·ª´ browser v√† ph√¢n t√°n nh·ªØng request ƒë·∫øn c√°c instance ƒë√≥ th√¥ng qua c√°c c·ªïng kh√°c nhau? C√¢u tr·∫£ l·ªùi l√† s·ª≠ d·ª•ng m·ªôt <code>Gateway</code>.</p>

<p>M·ªôt gateway l√† m·ªôt entry point ƒë∆°n trong h·ªá th·ªëng, ƒë∆∞·ª£c d√πng ƒë·ªÉ handle c√°c request b·∫±ng c√°ch ƒë·ªãnh tuy·∫øn ch√∫ng ƒë·∫øn c√°c service t∆∞∆°ng ·ª©ng. N√≥ c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c d√πng ƒë·ªÉ x√°c th·ª±c, gi√°m s√°t v√† l√†m nhi·ªÅu vi·ªác kh√°c.</p>

<h2 id="zuul-l√†-g√¨">Zuul l√† g√¨?</h2>

<p>N√≥ l√† m·ªôt proxy, gateway v√† m·ªôt l·ªõp trung gian gi·ªØa user v√† c√°c service c·ªßa b·∫°n. Eureka server ƒë√£ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ƒë·∫∑t t√™n cho t·ª´ng service thay v√¨ d√πng ƒë·ªãa ch·ªâ IP c·ªßa ch√∫ng. Tuy nhi√™n m·ªôt service v·∫´n c√≥ th·ªÉ c√≥ nhi·ªÅu instance v√† ch√∫ng s·∫Ω ch·∫°y tr√™n c√°c c·ªïng kh√°c nhau n√™n nhi·ªám v·ª• c·ªßa Zuul s·∫Ω l√†:</p>

<ul>
<li>Map gi·ªØa m·ªôt prefix path (/gallery/**) v√† m·ªôt service (gallery-service). N√≥ s·ª≠ d·ª•ng Euraka server ƒë·ªÉ ƒë·ªãnh tuy·∫øn c√°c service ƒë∆∞·ª£c request.</li>
<li>N√≥ gi√∫p c√¢n b·∫±ng t·∫£i gi·ªØa c√°c instance c·ªßa m·ªôt service.</li>
<li>C√≤n g√¨ n·ªØa? Ch√∫ng ta c√≥ th·ªÉ d√πng n√≥ ƒë·ªÉ filter request, th√™m x√°c th·ª±c,&hellip;</li>
</ul>

<p>Trong file <code>pom.xml</code> c·ªßa project Zuul, ch√∫ng ta s·∫Ω c√≥ c√°c dependencies: Web, Eureka Client v√† Zuul:</p>

<pre><code>&lt;dependencies&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;  
        &lt;scope&gt;runtime&lt;/scope&gt;  
    &lt;/dependency&gt;  
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  
        &lt;scope&gt;test&lt;/scope&gt;  
    &lt;/dependency&gt;  
&lt;/dependencies&gt;
</code></pre>

<blockquote>
<p>ƒêi·ªÅu ƒë√°ng n√≥i l√† Zuul ho·∫°t ƒë·ªông nh∆∞ m·ªôt Eureka client. V√¨ v·∫≠y ch√∫ng ta c√≥ th·ªÉ ƒë·∫∑t t√™n cho n√≥, ch·ªâ ƒë·ªãnh port v√† ƒë∆∞·ªùng d·∫´n ƒë·∫øn Eureka server nh∆∞ c√°c client tr∆∞·ªõc ƒë√≥.</p>
</blockquote>

<pre><code>server.port=8762

spring.application.name=zuul-server

eureka.client.service-url.default-zone=http://localhost:8761/eureka/

# A prefix that can added to beginning of all requests.

#zuul.prefix=/api

# Disable accessing services using service name (i.e. gallery-service).

# They should be only accessed through the path defined below.

zuul.ignored-services=*

# Map paths to services

zuul.routes.gallery-service.path=/gallery/**

zuul.routes.gallery-service.service-id=gallery-service
</code></pre>

<p>Cu·ªëi c√πng l√† th√™m c√°c annotation ƒë·ªÉ th√¥ng b√°o ƒë√¢y l√† Zuul v√† Eureka client:</p>

<pre><code class="language-java">package io.github.tubean.eureka.zuulserver;  

import org.springframework.boot.SpringApplication;  
import org.springframework.boot.autoconfigure.SpringBootApplication;  
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;  
import org.springframework.cloud.netflix.zuul.EnableZuulProxy;  

@SpringBootApplication  
@EnableEurekaClient // It acts as a eureka client  
@EnableZuulProxy // Enable Zuul  
public class ZuulServerApplication {  

    public static void main(String[] args) {  
        SpringApplication.run(ZuulServerApplication.class, args);  
    }  

}
</code></pre>

<h1 id="6-testing">6. Testing</h1>

<p>Ok, nh∆∞ v·∫≠y l√† ch√∫ng ta ƒë√£ d·ª±ng xong b·ªô khung cho h·ªá th·ªëng microservice. Ch√∫ng ta ƒë√£ c√≥ m·ªôt service discovery (Eureka server), hai service (Image v√† Gallery), m·ªôt c·ªïng gateway (Zuul) v√† gi·ªù ch·ªâ c·∫ßn start ch√∫ng l√™n.</p>

<blockquote>
<p>ƒê·ªÉ ch·∫°y nhi·ªÅu instance th√¨ trong Eclipse, b·∫°n v√†o Run -&gt; Configurations/Arguments -&gt; VM options v√† th√™m <code>-Dsever.port=8300</code></p>
</blockquote>

<p>ƒê·ªÉ ki·ªÉm tra ·ª©ng d·ª•ng c·ªßa ch√∫ng ta, h√£y truy c·∫≠p v√†o <code>localhost:8761</code>, ƒë√¢y l√† c·ªïng c·ªßa Eureka Server. V√† b·∫°n s·∫Ω th·∫•y c√°c server ƒëang ch·∫°y nh∆∞ sau:
<img src="https://res.cloudinary.com/deop9ytsv/image/upload/v1545149154/imag_2.jpg" alt="img_3" />
Sau ƒë√≥ h√£y g·ªçi ti·∫øp ƒë·∫øn gallery service b·∫±ng ƒë∆∞·ªùng d·∫´n <code>localhost:8762/gallery</code>. Ch√∫ng ta s·∫Ω nh·∫≠n ƒë∆∞·ª£c message nh∆∞ sau:
&gt;Hello from Gallery Service running at port: 8100</p>

<p>N·∫øu d√πng multiple instance, b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c 2 d√≤ng nh∆∞ tr√™n v·ªõi 2 c·ªïng kh√°c nhau.</p>

<p>Ti·∫øp theo ch√∫ng ta g·ªçi ƒë·∫øn service Image th√¥ng qua Gallery b·∫±ng ƒë∆∞·ªùng d·∫´n <code>localhost:8762/gallery/1</code>. K·∫øt qu·∫£ nh·∫≠n ƒë∆∞·ª£c s·∫Ω l√†:</p>

<pre><code>// 20181218230927
// http://localhost:8762/gallery/1

{
  &quot;id&quot;: 1,
  &quot;images&quot;: [
    {
      &quot;id&quot;: 1,
      &quot;title&quot;: &quot;Treehouse of Horror V&quot;,
      &quot;url&quot;: &quot;https://www.imdb.com/title/tt0096697/mediaviewer/rm3842005760&quot;
    },
    {
      &quot;id&quot;: 2,
      &quot;title&quot;: &quot;The Town&quot;,
      &quot;url&quot;: &quot;https://www.imdb.com/title/tt0096697/mediaviewer/rm3698134272&quot;
    },
    {
      &quot;id&quot;: 3,
      &quot;title&quot;: &quot;The Last Traction Hero&quot;,
      &quot;url&quot;: &quot;https://www.imdb.com/title/tt0096697/mediaviewer/rm1445594112&quot;
    }
  ]
}
</code></pre>

<p>K·∫øt th√∫c ph·∫ßn ƒë·∫ßu ti√™n ·ªü ƒë√¢y, ·ªü ph·∫ßn ti·∫øp theo ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch ƒë·ªÉ x√°c th·ª±c user b·∫±ng JWT.</p>

<p><a href="https://tubean.github.io/2018/12/microservice-springboot-eureka-part2/">https://tubean.github.io/2018/12/microservice-springboot-eureka-part2/</a></p>

<h1 id="ngu·ªìn-b√†i-vi·∫øt">Ngu·ªìn b√†i vi·∫øt</h1>

<p><a href="https://medium.com/omarelgabrys-blog/microservices-with-spring-boot-intro-to-microservices-part-1-c0d24cd422c3">https://medium.com/omarelgabrys-blog/microservices-with-spring-boot-intro-to-microservices-part-1-c0d24cd422c3</a></p>

<p><a href="https://medium.com/omarelgabrys-blog/microservices-with-spring-boot-creating-our-microserivces-gateway-part-2-31f8aa6b215b">https://medium.com/omarelgabrys-blog/microservices-with-spring-boot-creating-our-microserivces-gateway-part-2-31f8aa6b215b</a></p>

<h1 id="source-code">Source code</h1>

<p><a href="https://github.com/tubean/MSA-springboot-eureka">https://github.com/tubean/MSA-springboot-eureka</a></p>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TH·∫∫ ƒê√ÅNH D·∫§U</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://tubean.github.io/tags/web-architecture/">web architecture</a>

  <a class="tag tag--primary tag--small" href="https://tubean.github.io/tags/spring-boot/">spring boot</a>

  <a class="tag tag--primary tag--small" href="https://tubean.github.io/tags/eureka/">eureka</a>

  <a class="tag tag--primary tag--small" href="https://tubean.github.io/tags/zuul/">zuul</a>

  <a class="tag tag--primary tag--small" href="https://tubean.github.io/tags/microservice/">microservice</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://tubean.github.io/2018/12/microservice-springboot-eureka-part2/" data-tooltip="[Microservice] D·ª±ng Microservice web b·∫±ng Spring Boot v√† Eureka [Ph·∫ßn 2]">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">Ti·∫øp</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://tubean.github.io/2018/12/monolithic-vs-microservice/" data-tooltip="[Web architecture] Ki·∫øn tr√∫c monolithic v√† microservice">
              
                  <span class="hide-xs hide-sm text-small icon-mr">Tr∆∞·ªõc</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://tubean.github.io/2018/12/microservice-springboot-eureka/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://tubean.github.io/2018/12/microservice-springboot-eureka/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://tubean.github.io/2018/12/microservice-springboot-eureka/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 <a href="https://bitbucket.org/tubean/">Do Anh Tu</a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://tubean.github.io/2018/12/microservice-springboot-eureka-part2/" data-tooltip="[Microservice] D·ª±ng Microservice web b·∫±ng Spring Boot v√† Eureka [Ph·∫ßn 2]">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">Ti·∫øp</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://tubean.github.io/2018/12/monolithic-vs-microservice/" data-tooltip="[Web architecture] Ki·∫øn tr√∫c monolithic v√† microservice">
              
                  <span class="hide-xs hide-sm text-small icon-mr">Tr∆∞·ªõc</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://tubean.github.io/2018/12/microservice-springboot-eureka/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://tubean.github.io/2018/12/microservice-springboot-eureka/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://tubean.github.io/2018/12/microservice-springboot-eureka/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftubean.github.io%2F2018%2F12%2Fmicroservice-springboot-eureka%2F">
          <i class="fa fa-facebook-official"></i><span>Chia s·∫ª v·ªõi Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Ftubean.github.io%2F2018%2F12%2Fmicroservice-springboot-eureka%2F">
          <i class="fa fa-twitter"></i><span>Chia s·∫ª v·ªõi Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Ftubean.github.io%2F2018%2F12%2Fmicroservice-springboot-eureka%2F">
          <i class="fa fa-google-plus"></i><span>Chia s·∫ª v·ªõi Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://res.cloudinary.com/deop9ytsv/image/upload/c_scale,w_1836/v1540914499/C360_2016-03-22-17-45-21-487.jpg" alt="·∫¢nh ƒë·∫°i di·ªán" />
    
    <h4 id="about-card-name">Tu Bean</h4>
    
      <div id="about-card-bio">Coding, writing and sharing</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Web developer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Viet Nam
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="T√¨m ki·∫øm" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/04/daily-code-9/">
                <h3 class="media-heading">[Daily Coding Problem] #9</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
C√¢u h·ªèi h√¥m nay nh∆∞ sau:
Problem  Implement a job scheduler which takes in a function f and an integer n, and calls f after n milliseconds.
 Code public class Main { public static void main(String[] args) { solution(() -&gt; System.out.println(&quot;Hello World&quot;), 10000); } public static void solution(Command command, int n) { new Timer().schedule(new TimerTask() { @Override public void run() { command.execute(); } }, n); } interface Command { void execute(); } }  Source code https://github.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/04/daily-code-8/">
                <h3 class="media-heading">[Daily Coding Problem] #8</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
C√¢u h·ªèi h√¥m nay nh∆∞ sau:
Problem  Given a list of integers, write a function that returns the largest sum of non-adjacent numbers. Numbers can be 0 or negative.
For example, [2, 4, 6, 2, 5] should return 13, since we pick 2, 6, and 5. [5, 1, 1, 5] should return 10, since we pick 5 and 5. Follow-up: Can you do this in O(N) time and constant space?</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/04/daily-code-7/">
                <h3 class="media-heading">[Daily Coding Problem] #7</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
C√¢u h·ªèi h√¥m nay nh∆∞ sau:
Problem  A unival tree (which stands for &ldquo;universal value&rdquo;) is a tree where all nodes under it have the same value.
Given the root to a binary tree, count the number of unival subtrees.
For example, the following tree has 5 unival subtrees:
 0 / \ 1 0 / \ 1 0 / \ 1 1   Code implementation private static int getUnivalCount(TreeNode node){ if (node == null)return 0; int count = getUnivalCount(node.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/04/daily-code-6/">
                <h3 class="media-heading">[Daily Coding Problem] #6</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
C√¢u h·ªèi h√¥m nay nh∆∞ sau:
Problem  This problem was asked by Facebook.
Given the mapping a = 1, b = 2, &hellip; z = 26, and an encoded message, count the number of ways it can be decoded.
For example, the message &lsquo;111&rsquo; would give 3, since it could be decoded as &lsquo;aaa&rsquo;, &lsquo;ka&rsquo;, and &lsquo;ak&rsquo;.
You can assume that the messages are decodable. For example, &lsquo;001&rsquo; is not allowed.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/04/daily-code-5/">
                <h3 class="media-heading">[Daily Coding Problem] #5</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
C√¢u h·ªèi h√¥m nay nh∆∞ sau:
Problem  This problem was asked by Google.
An XOR linked list is a more memory efficient doubly linked list. Instead of each node holding next and prev fields, it holds a field named both, which is an XOR of the next node and the previous node. Implement an XOR linked list; it has an add(element) which adds the element to the end, and a get(index) which returns the node at index.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/03/daily-code-4/">
                <h3 class="media-heading">[Daily Coding Problem] #4</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
C√¢u h·ªèi h√¥m nay nh∆∞ sau:
Problem  Given an array of integers, find the first missing positive integer in linear time and constant space. In other words, find the lowest positive integer that does not exist in the array. The array can contain duplicates and negative numbers as well.
For example, the input [3, 4, -1, 1] should give 2. The input [1, 2, 0] should give 3.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/03/daily-code-3/">
                <h3 class="media-heading">[Daily Coding Problem] #3</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
C√¢u h·ªèi h√¥m nay l√† v·ªÅ ki·ªÉu c·∫•u tr√∫c d·ªØ li·ªáu d·∫°ng c√¢y:
Problem  Given the root to a binary tree, implement serialize(root), which serializes the tree into a string, and deserialize(s), which deserializes the string back into the tree.
 For example, given the following Node class
class Node: def __init__(self, val, left=None, right=None): self.val = val self.left = left self.right = right  The following test should pass:</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/03/daily-code-2/">
                <h3 class="media-heading">[Daily Coding Problem] #2</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
Ng√†y h√¥m nay ch√∫ng ta s·∫Ω xem x√©t m·ªôt c√¢u h·ªèi c·ªßa Uber:
Problem  Given an array of integers, return a new array such that each element at index i of the new array is the product of all the numbers in the original array except the one at i.
For example, if our input was [1, 2, 3, 4, 5], the expected output would be [120, 60, 40, 30, 24].</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2020/03/daily-code-1/">
                <h3 class="media-heading">[Daily Coding Problem] #1</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Ch√†o c√°c b·∫°n.
Nh√¢n d·ªãp r·∫£nh r·ªói do d·ªãch COVID-19, t√¥i quy·∫øt ƒë·ªãnh ƒë√†o m·ªô l·∫°i c√°i blog n√†y sau m·ªôt nƒÉm b·∫≠n c√°c c√¥ng vi·ªác c√° nh√¢n.
Nh∆∞ ti√™u ƒë·ªÅ th√¨ series n√†y s·∫Ω t·ªïng h·ª£p m·ªôt s·ªë c√¢u h·ªèi ph·ªèng v·∫•n v·ªÅ thu·∫≠t to√°n kinh ƒëi·ªÉn trong c√°c c√¥ng ty c≈©ng nh∆∞ c√°ch gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ cho m·ªói c√¢u h·ªèi. M·ªçi b√†i to√°n ƒë·ªÅu c√≥ c√°ch gi·∫£i ri√™ng cho n√≥.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tubean.github.io/2018/12/microservice-key-architectural-concepts/">
                <h3 class="media-heading">[Microservice] C√°c kh√°i ni·ªám ch√≠nh trong microservice</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu m·ªôt s·ªë kh√°i ni·ªám ch√≠nh trong h·ªá th·ªëng microservice.
1. Monolithic Architecture C√°c ·ª©ng d·ª•ng doanh nghi·ªáp ng√†y nay ƒëang ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ƒë√°p ·ª©ng ƒë∆∞·ª£c s·ªë l∆∞·ª£ng l·ªõn nghi·ªáp v·ª• kinh doanh. Do ƒë√≥ m·ªôt ·ª©ng d·ª•ng ph·∫ßn m·ªÅm c·∫ßn cung c·∫•p h√†ng trƒÉm ch·ª©c nƒÉng v√† t·∫•t c·∫£ c√°c nh·ªØng ch·ª©c nƒÉng nh∆∞ v·∫≠y th∆∞·ªùng ƒë∆∞·ª£c g√≥i g·ªçn trong m·ªôt ·ª©ng d·ª•ng nguy√™n kh·ªëi duy nh·∫•t.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£"
         data-message-one="t√¨m th·∫•y 1 k·∫øt qu·∫£ "
         data-message-other="t√¨m th·∫•y {n} k·∫øt qu·∫£">
         35 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://tubean.github.io/images/cover-v1.2.0.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://tubean.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


  
    <script crossorigin="anonymous" integrity="sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq" src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js"></script>
  

  
    <script crossorigin="anonymous" integrity="sha384-IiI65aU9ZYub2MY9zhtKd1H2ps7xxf+eb2YFG9lX6uRqpXCvBTOidPRCXCrQ++Uc" src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/contrib/auto-render.min.js"></script>
  

  
    <script src="https://tubean.github.io/js/main.js"></script>
  

<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/tubean.github.io\/2018\/12\/microservice-springboot-eureka\/';
          
            this.page.identifier = '\/2018\/12\/microservice-springboot-eureka\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'beans-blog';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

